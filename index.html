<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=0.5">
    <link rel="stylesheet" href="http://at.alicdn.com/t/font_1196739_645a25t27tg.css">
    <link rel="stylesheet" href="/static/css/reset.css">
    <script src="https://as.alipayobjects.com/g/component/fastclick/1.0.6/fastclick.js"></script>
    <title>wyyx_demo</title>
  </head>
  <body>
    <div id="app"></div>
    <!-- built files will be auto injected -->
    <script>
      // 解决点击响应延时0.3s问题
      if ('addEventListener' in document) {
        document.addEventListener('DOMContentLoaded', function () {
          FastClick.attach(document.body);
        }, false);
      }
      if(!window.Promise) {
        document.writeln('<script src="https://as.alipayobjects.com/g/component/es6-promise/3.2.2/es6-promise.min.js"'+'>'+'<'+'/'+'script>');
      }
      //点透
      !(function () {
        let aNodes = document.querySelectorAll('a');
        let i = 0;
        for (; i < aNodes.length; i++) {
          aNodes[i].addEventListener('touchstart', function () {
            window.location = this.href;
          });
        }
      })();

      //取消浏览器默认行为
      document.addEventListener('touchstart', function (event) {
        event.preventDefault(); //a元素不能进行跳转
      });

      (function () {
        let width=document.documentElement.clientWidth
        console.log(width)
        var styleNode=document.createElement('style')
        styleNode.innerText='html{font-size:'+width/10+'px !important;}'
        document.head.appendChild(styleNode)
      })()

    </script>
  </body>
</html>
